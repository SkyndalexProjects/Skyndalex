generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model settings {
  guildId                 String   @id
  voiceStateUpdateChannel String?
  radioStation            String?
  autoRadioVoiceChannel   String?
  radioId                 String?
  antiPhishing            Boolean?
}
model users {
  familyId  Int @default(autoincrement())
  userId    String 
  guildId   String
  marriedTo String?
  marriedAt DateTime?
  lastWork  DateTime?
  lastCrime DateTime?
  lastDaily DateTime?
  lastRob   DateTime?

  @@id([userId, guildId])

}

model ticketButtons {
  customId         Int     @default(autoincrement())
  guildId          String
  label            String?
  style            String?
  discordChannelId String?
  assignedToSelect String?
  
  @@id([guildId, customId])
}

model ticketModals {
  customId         Int     @default(autoincrement())
  guildId          String
  label            String?
  style            String?
  placeholder      String?
  required         Boolean? @default(false)
  categoryId       String?
  @@id([guildId, customId])
}
model ticketSelects {
  customId         Int     @default(autoincrement())
  guildId          String
  label            String?
  description      String?
  discordChannelId String?
  
  @@id([guildId, customId])
}
model tickets {
  id             Int    // NOTE: Autoincrement will cause problems with correct ID assignment
  guildId        String
  userId         String
  ticketChannel  String?
  ticketCategory String?
  state          String?
  assignedTo     String?

  @@id([guildId, userId, id])
}

model cases {
  id        Int      @id @default(autoincrement())
  guildId   String
  userId    String
  type      String?
  reason    String?
  date      DateTime @default(now())
  moderator String
  duration  String?
}

model economy {
  guildId   String
  userId    String
  bank      String?
  wallet    String?

  @@id([guildId, userId])
}
